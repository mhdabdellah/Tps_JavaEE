<!DOCTYPE hibernate-configuration SYSTEM
"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">

<hibernate-configuration>
	<session-factory>
		<property name="hibernate.dialect">org.hibernate.dialect.MySQLDialect</property>
		<property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
		<property name="hibernate.connection.url">jdbc:mysql://localhost:3306/tp8db</property>
		<property name="hibernate.connection.useUnicode">true</property>
        <property name="hibernate.connection.characterEncoding">UTF-8</property>
	    <property name="hibernate.connection.username">root</property>
	    <property name="hibernate.connection.password">sidi1212</property>
	  <!-- dialect for MySQL -->
 		<property name="dialect">org.hibernate.dialect.MySQLInnoDBDialect</property>
 		<property name="hibernate.show_sql">true</property>
 		<property name="cache.provider_class">org.hibernate.cache.NoCacheProvider</property>
 		<property name="cache.use_query_cache">false</property>
 		<mapping class="java.models.Person"/>
	</session-factory>
</hibernate-configuration>


 configuration = new Configuration();
//        configuration.configure("hibernate.cfg.xml");
       
        Properties settings = new Properties();
		settings.put(Environment.DRIVER, "com.mysql.cj.jdbc.Driver");
		settings.put(Environment.URL, "jdbc:mysql://localhost:3306/tp9");
		settings.put(Environment.USER, "root");
		settings.put(Environment.PASS, "sidi1212");
		
		settings.put(Environment.DIALECT, "org.hibernate.dialect.MySQL8Dialect");
		settings.put(Environment.DIALECT, "org.hibernate.dialect.MySQLDialect");

		settings.put(Environment.SHOW_SQL, "false");
		settings.put(Environment.HBM2DDL_AUTO, "update");
		
		configuration.setProperties(settings);
		configuration.addAnnotatedClass(models.Person.class);
	    configuration.addAnnotatedClass(models.Contact.class);
        serviceRegistryBuilder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());
        serviceRegistry = serviceRegistryBuilder.build();
        sessionFactory = configuration.buildSessionFactory(serviceRegistry);
